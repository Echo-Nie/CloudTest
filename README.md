# CloudTest 

è¯¥ä»“åº“ç”¨äºå­˜æ”¾Spring Cloudè¯¾ç¨‹å®éªŒä»£ç ï¼ŒåŒ…å«å¤šä¸ªå®éªŒæ¨¡å—ï¼Œæ¶‰åŠEurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒã€NacosæœåŠ¡å‘ç°ã€Spring Cloud Gatewayç½‘å…³ç­‰åŠŸèƒ½ã€‚

## ğŸ“¦é¡¹ç›®ç»“æ„ 

```plaintext
CloudTest
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ Test1
â”‚   â”œâ”€â”€ pom.xml
â”‚   â”œâ”€â”€ Service_Provider_11000
â”‚   â”œâ”€â”€ Service_Consumer_16000
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18002
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Service_Provider_11001
â”‚   â”œâ”€â”€ Nacos_Provider_12000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Provider_12001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â””â”€â”€ Nacos_Consumer_17000
â”‚       â”œâ”€â”€ pom.xml
â”‚       â””â”€â”€ src
â”œâ”€â”€ Test2
â”‚   â”œâ”€â”€ pom.xml
â”‚   â”œâ”€â”€ Service_Provider_11000
â”‚   â”œâ”€â”€ Service_Consumer_16000
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18002
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Service_Provider_11001
â”‚   â”œâ”€â”€ Nacos_Provider_12000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Provider_12001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â””â”€â”€ Nacos_Consumer_17000
â”‚       â”œâ”€â”€ pom.xml
â”‚       â””â”€â”€ src
â”œâ”€â”€ Test3
â”‚   â”œâ”€â”€ pom.xml
â”‚   â”œâ”€â”€ Service_Provider_11000
â”‚   â”œâ”€â”€ Service_Consumer_16000
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18002
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Service_Provider_11001
â”‚   â”œâ”€â”€ Nacos_Provider_12000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Provider_12001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â””â”€â”€ Nacos_Consumer_17000
â”‚       â”œâ”€â”€ pom.xml
â”‚       â””â”€â”€ src
â””â”€â”€ Test4
â”‚   â”œâ”€â”€ pom.xml
â”‚   â”œâ”€â”€ Service_Provider_11000
â”‚   â”œâ”€â”€ Service_Consumer_16000
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18002
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Service_Provider_11001
â”‚   â”œâ”€â”€ Nacos_Provider_12000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Provider_12001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Consumer_17000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â””â”€â”€ Gateway_19000
â”‚       â”œâ”€â”€ pom.xml
â”‚       â””â”€â”€ src
â””â”€â”€ Test5
â”‚   â”œâ”€â”€ pom.xml
â”‚   â”œâ”€â”€ Service_Provider_11000
â”‚   â”œâ”€â”€ Service_Consumer_16000
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Config_Server_20000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Config_Server_20001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Eureka_Server_18002
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Service_Provider_11001
â”‚   â”œâ”€â”€ Nacos_Provider_12000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Provider_12001
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â”œâ”€â”€ Nacos_Consumer_17000
â”‚   â”‚   â”œâ”€â”€ pom.xml
â”‚   â”‚   â””â”€â”€ src
â”‚   â””â”€â”€ Gateway_19000
â”‚       â”œâ”€â”€ pom.xml
â”‚       â””â”€â”€ src
```

## ğŸ”æ¨¡å—è¯´æ˜
### å­æ¨¡å— 
#### EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒ 
- `Eureka_Server_18000`ã€`Eureka_Server_18001`ã€`Eureka_Server_18002`ï¼šå¤šä¸ªEurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒå®ä¾‹ï¼Œç«¯å£åˆ†åˆ«ä¸º18000ã€18001ã€18002ã€‚å®ƒä»¬è´Ÿè´£æœåŠ¡çš„æ³¨å†Œä¸å‘ç°ï¼Œä¸ºæ•´ä¸ªå¾®æœåŠ¡æ¶æ„æä¾›åŸºç¡€æ”¯æŒã€‚
    - `pom.xml`ï¼šæ¨¡å—çš„Mavené…ç½®æ–‡ä»¶ï¼Œå¼•å…¥äº†`spring-cloud-starter-netflix-eureka-server`ä¾èµ–ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚

#### NacosæœåŠ¡å‘ç° 
- `Nacos_Provider_12000`ã€`Nacos_Provider_12001`ï¼šNacosæœåŠ¡æä¾›è€…æ¨¡å—ã€‚å®ƒä»¬å°†è‡ªå·±çš„æœåŠ¡ä¿¡æ¯æ³¨å†Œåˆ°NacosæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œä¾›æ¶ˆè´¹è€…è°ƒç”¨ã€‚
    - `pom.xml`ï¼šå¼•å…¥äº†`spring-boot-starter-web`å’Œ`spring-cloud-starter-alibaba-nacos-discovery`ä¾èµ–ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚
- `Nacos_Consumer_17000`ï¼šNacosæœåŠ¡æ¶ˆè´¹è€…æ¨¡å—ï¼Œä»NacosæœåŠ¡æ³¨å†Œä¸­å¿ƒè·å–æœåŠ¡æä¾›è€…çš„ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨å…¶æœåŠ¡ã€‚
    - `pom.xml`ï¼šå¼•å…¥äº†ç›¸å…³ä¾èµ–ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚

#### æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€… 
- `Service_Provider_11000`ã€`Service_Provider_11001`ï¼šæœåŠ¡æä¾›è€…æ¨¡å—ï¼Œæä¾›å…·ä½“çš„ä¸šåŠ¡æœåŠ¡ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚
- `Service_Consumer_16000`ï¼šæœåŠ¡æ¶ˆè´¹è€…æ¨¡å—ï¼Œé…ç½®äº†å¸¦æœ‰è´Ÿè½½å‡è¡¡çš„`RestTemplate`ï¼Œå®ç°å¯¹æœåŠ¡æä¾›è€…çš„è°ƒç”¨ï¼Œå¹¶é€šè¿‡è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©åˆé€‚çš„æœåŠ¡å®ä¾‹ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚

#### Spring Cloud Gatewayç½‘å…³ 
- `Gateway_19000`ï¼šSpring Cloud Gatewayç½‘å…³æ¨¡å—ï¼Œä½œä¸ºæ•´ä¸ªå¾®æœåŠ¡æ¶æ„çš„å…¥å£ï¼Œè´Ÿè´£è·¯ç”±è½¬å‘ã€è¯·æ±‚è¿‡æ»¤ç­‰åŠŸèƒ½ï¼Œä¿æŠ¤åç«¯æœåŠ¡çš„å®‰å…¨ã€‚
    - `pom.xml`ï¼šå¼•å…¥äº†`spring-cloud-starter-gateway`ã€`spring-cloud-starter-netflix-eureka-client`ç­‰ä¾èµ–ã€‚
    - `src`ï¼šæºä»£ç ç›®å½•ã€‚

## ğŸ“‹ ä¾èµ–ç®¡ç† 
çˆ¶é¡¹ç›®çš„`pom.xml`ä¸­ä½¿ç”¨`dependencyManagement`æ ‡ç­¾ç»Ÿä¸€ç®¡ç†ä¾èµ–ç‰ˆæœ¬ï¼Œå­æ¨¡å—ç»§æ‰¿ååªéœ€å¼•å…¥ä¾èµ–çš„`artifactId`å³å¯ã€‚ä¸»è¦ä¾èµ–ç‰ˆæœ¬å¦‚ä¸‹ï¼š
- `spring-cloud-dependencies`ï¼š2024.0.0
- `spring-cloud-alibaba-dependencies`ï¼š2022.0.0.0
- `lombok`ï¼š1.18.36
- `spring-boot-dependencies`ï¼š3.4.3

è¿™æ ·å¯ä»¥ç¡®ä¿å„ä¸ªæ¨¡å—ä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬ä¸€è‡´ï¼Œé¿å…ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚

## ğŸš€ è¿è¡Œæ­¥éª¤ 
1. ç¡®ä¿æœ¬åœ°å·²ç»å®‰è£…äº†Java 21å’ŒMavenã€‚
2. å…‹éš†æœ¬ä»“åº“åˆ°æœ¬åœ°ï¼š
```bash
git clone https://github.com/Echo-Nie/CloudTest.git
```
3. è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒMavenå‘½ä»¤è¿›è¡Œé¡¹ç›®æ„å»ºï¼š
```bash
mvn clean install
```
4. ä¾æ¬¡å¯åŠ¨å„ä¸ªæ¨¡å—çš„æœåŠ¡ï¼Œä¾‹å¦‚å¯åŠ¨EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼š
```bash
java -jar Test1/Eureka_Server_18000/target/Eureka_Server_18000-1.0-SNAPSHOT.jar
```
5. è®¿é—®å„ä¸ªæœåŠ¡çš„ç«¯ç‚¹ï¼ŒéªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚

## âš ï¸ æ³¨æ„äº‹é¡¹ 
- è¯·ç¡®ä¿EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒå’ŒNacosæœåŠ¡å‘ç°ç»„ä»¶å·²ç»æ­£ç¡®å¯åŠ¨ï¼Œå¦åˆ™æœåŠ¡æ— æ³•æ­£å¸¸æ³¨å†Œå’Œå‘ç°ã€‚
- éƒ¨åˆ†é…ç½®æ–‡ä»¶ä¸­çš„`hostname`å’Œ`service-url`å¯èƒ½éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼Œä»¥é€‚åº”ä¸åŒçš„è¿è¡Œç¯å¢ƒã€‚
